<!-- sections/custom-product-section.liquid -->
<section class="custom-product-section">
  <div class="custom-container">
    <h2 class="custom-heading">{{ section.settings.heading }}</h2>
    <div class="custom-products-grid">
      {% for product in collections[section.settings.collection].products limit:4 %}
        <div class="custom-product-card">
          <a href="{{ product.url }}">
            <img src="{{ product.featured_image | img_url: '500x' }}" alt="{{ product.title }}" class="custom-product-image">
          </a>
          <div class="custom-product-details">
            <h3 class="custom-product-title">{{ product.title }}</h3>
            {% if product.compare_at_price > product.price %}
              <p class="custom-product-price">
                <span class="custom-price-original">{{ product.compare_at_price | money }}</span>
                <span class="custom-price-sale">{{ product.price | money }}</span>
              </p>
            {% else %}
              <p class="custom-product-price">{{ product.price | money }}</p>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
.custom-product-section {
  background: #f3f2eb;
  padding: 40px 0;
}

.custom-heading {
  text-align: start;
  font-size: 24px;
  margin-bottom: 30px;
  margin-left: 2rem;
}

.custom-products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
}

.custom-product-card {
  background: white;
  text-align: center;
  padding-bottom: 10px;
  border-block: 2px solid #000;
  border-inline: 1px solid #000;
}

.custom-product-image {
  width: 100%;
  height: auto;
}

.custom-product-details {
  padding: 10px;
}

.custom-product-title {
  font-size: 1.8rem;
  margin: 10px 0 5px;
  font-weight: 500;
  text-transform: uppercase;
}

.custom-product-price {
  font-size: 14px;
}

.custom-price-original {
  text-decoration: line-through;
  color: #888;
  margin-right: 5px;
}

.custom-price-sale {
  color: #e60073;
  font-weight: bold;
}
</style>

{% schema %}
{
  "name": "Custom Product Grid",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "EXIT THROUGH THE BOOK SHOP"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    }
  ],
  "presets": [
    {
      "name": "Custom Product Grid",
      "category": "Custom Sections"
    }
  ]
}
{% endschema %}
