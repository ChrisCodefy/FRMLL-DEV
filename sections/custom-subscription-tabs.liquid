{% schema %}
{
  "name": "Custom Subscription Tabs",
  "tag": "section",
  "class": "custom-subscription-tabs-columns",
  "settings": [
    { "type": "text", "id": "title", "label": "Título principal", "default": "RECEIVE SPECIAL OFFERS AND FIRST LOOK AT NEW PRODUCTS." },

    { "type": "header", "content": "México - Columna 1" },
    { "type": "text", "id": "mx_1_price", "label": "Precio", "default": "$2,640.00" },
    { "type": "text", "id": "mx_1_subtitle", "label": "Subtítulo", "default": "Trimestral. $880/mes" },
    { "type": "textarea", "id": "mx_1_desc", "label": "Descripción", "default": "3 Discos Selección Exclusiva del Club. 3 Ilustraciones Exclusivas. 3 Fundas protectoras. Incluye gastos de envío. Descuentos en nuestra tienda en línea." },
    { "type": "text", "id": "mx_1_button_text", "label": "Texto del botón", "default": "Seleccionar" },
    { "type": "url", "id": "mx_1_button_link", "label": "Enlace del botón" }

    // Repite para mx_2, mx_3, mx_4 y luego usa_1, usa_2, usa_3, usa_4
  ],
  "presets": [
    {
      "name": "Custom Subscription Tabs Columns"
    }
  ]
}
{% endschema %}

<!-- Header -->
<div class="subscription-tabs-header">
  <div class="title">{{ section.settings.title }}</div>
  <div class="tab-switch">
    <button class="tab-button active" data-tab="mexico">México</button>
    <button class="tab-button" data-tab="usa">Estados Unidos</button>
  </div>
</div>

<!-- México -->
<div class="tab-columns tab-mexico active">
  <div class="column">
    <div class="price">{{ section.settings.mx_1_price }}</div>
    <div class="subtitle"><strong>{{ section.settings.mx_1_subtitle }}</strong></div>
    <div class="desc">{{ section.settings.mx_1_desc | newline_to_br }}</div>
    {% if section.settings.mx_1_button_link %}
      <a href="{{ section.settings.mx_1_button_link }}" class="btn">{{ section.settings.mx_1_button_text }}</a>
    {% endif %}
  </div>
  <!-- Agrega otras 3 columnas aquí con mx_2, mx_3, mx_4 -->
</div>

<!-- USA -->
<div class="tab-columns tab-usa">
  <!-- Similar con usa_1, usa_2, usa_3, usa_4 -->
</div>

<style>
.tab-columns {
  display: none;
  grid-template-columns: repeat(4, 1fr);
  border-top: 1px solid black;
  border-bottom: 1px solid black;
}
.tab-columns.active {
  display: grid;
}
.column {
  padding: 20px;
  border-right: 1px solid black;
  border-bottom: 1px solid black;
  background: #f5f5f0;
}
.column:last-child {
  border-right: none;
}
.price {
  font-size: 22px;
  font-weight: bold;
}
.subtitle {
  margin: 5px 0 10px;
}
.btn {
  display: inline-block;
  margin-top: 20px;
  padding: 10px 20px;
  background: black;
  color: white;
  text-align: center;
  font-weight: bold;
  text-decoration: none;
  border-radius: 6px;
}
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
  const buttons = document.querySelectorAll(".tab-button");
  const mexicoTab = document.querySelector(".tab-mexico");
  const usaTab = document.querySelector(".tab-usa");

  buttons.forEach(button => {
    button.addEventListener("click", () => {
      buttons.forEach(btn => btn.classList.remove("active"));
      button.classList.add("active");

      if (button.dataset.tab === "mexico") {
        mexicoTab.classList.add("active");
        usaTab.classList.remove("active");
      } else {
        usaTab.classList.add("active");
        mexicoTab.classList.remove("active");
      }
    });
  });
});
</script>
